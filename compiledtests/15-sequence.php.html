<html>
<head>
				<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
				<title>Sequence tests</title>
				</head>
				<body>
				<table cellpadding="1" cellspacing="1" border="1">
				<thead>
				<tr><td rowspan="1" colspan="3">Create alter and drop sequence...</td></tr>
				</thead><tbody><tr>
<th colspan="3">Login as janus</th>
</tr>
<tr>
<td>open</td>
<td>http://localhost:8800/ppa/intro.php</td>
<td></td>
</tr>
<tr>
<td>select</td>
<td>name=language</td>
<td>English</td>
</tr>
<tr>
<td>open</td>
<td>http://localhost:8800/ppa/login.php?server=localhost:5432:allow&subject=server</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>//input[@name='loginUsername']</td>
<td>admin_user</td>
</tr>
<tr>
<td>type</td>
<td>//input[@id='loginPassword']</td>
<td>super</td>
</tr>
<tr>
<td>clickAndWait</td>
<td>name=loginSubmit</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//div[@class='topbar']/descendant::span[@class='username']</td>
<td>admin_user</td>
</tr>
<tr>
<th colspan="3">1. Create a sequence</th>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Databases</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=ppatests_db</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Schemas</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=public</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Sequences</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Create sequence</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>name=formSequenceName</td>
<td>testcase_seq</td>
</tr>
<tr>
<td>type</td>
<td>name=formIncrement</td>
<td>2</td>
</tr>
<tr>
<td>type</td>
<td>name=formMinValue</td>
<td>1</td>
</tr>
<tr>
<td>type</td>
<td>name=formMaxValue</td>
<td>100</td>
</tr>
<tr>
<td>type</td>
<td>name=formStartValue</td>
<td>1</td>
</tr>
<tr>
<td>type</td>
<td>name=formCacheValue</td>
<td>1</td>
</tr>
<tr>
<td>click</td>
<td>name=formCycledValue</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>name=create</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//p[@class='message']</td>
<td>Sequence created.</td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=testcase_seq</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/th[text()='Name' and @class='data']/../../tr/td[1]</td>
<td>testcase_seq</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[2]</td>
<td>1</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[3]</td>
<td>1</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[4]</td>
<td>2</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[5]</td>
<td>100</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[6]</td>
<td>1</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[7]</td>
<td>1</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[9]</td>
<td>Yes</td>
</tr>
<tr>
<th colspan="3">2. increment, reset sequence and set value</th>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Set value</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>name=nextvalue</td>
<td>2</td>
</tr>
<tr>
<td>clickAndWait</td>
<td>name=setval</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//p[@class='message']</td>
<td>Sequence value set.</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[3]</td>
<td>2</td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Increment value</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//p[@class='message']</td>
<td>Sequence incremented.</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[3]</td>
<td>4</td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Reset</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//p[@class='message']</td>
<td>Sequence reset.</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_seq']/../td[3]</td>
<td>1</td>
</tr>
<tr>
<th colspan="3">3. alter sequence</th>
</tr>
<tr>
<td>clickAndWait</td>
<td>//div[@class='trail']/descendant::a[@title='Database']/span[@class='label' and text()='ppatests_db']</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Schemas</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=public</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Sequences</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=testcase_seq</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Alter</td>
<td></td>
</tr>
<tr>
<td>type</td>
<td>name=name</td>
<td>testcase_renamed_seq</td>
</tr>
<tr>
<td>select</td>
<td>name=owner</td>
<td>label=ppa_tests_user</td>
</tr>
<tr>
<td>select</td>
<td>name=newschema</td>
<td>label=test_schema</td>
</tr>
<tr>
<td>type</td>
<td>name=comment</td>
<td>test comment on testcase_renamed_seq</td>
</tr>
<tr>
<td>type</td>
<td>name=formStartValue</td>
<td>10</td>
</tr>
<tr>
<td>type</td>
<td>name=formRestartValue</td>
<td>20</td>
</tr>
<tr>
<td>type</td>
<td>name=formIncrement</td>
<td>3</td>
</tr>
<tr>
<td>type</td>
<td>name=formMaxValue</td>
<td>104</td>
</tr>
<tr>
<td>type</td>
<td>name=formMinValue</td>
<td>5</td>
</tr>
<tr>
<td>type</td>
<td>name=formCacheValue</td>
<td>6</td>
</tr>
<tr>
<td>uncheck</td>
<td>name=formCycledValue</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>name=alter</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//p[@class='message']</td>
<td>Sequence altered.</td>
</tr>
<tr>
<td>assertText</td>
<td>//div[@class='trail']/descendant::a[@title='Schema']/span[@class='label']</td>
<td>test_schema</td>
</tr>
<tr>
<td>assertText</td>
<td>//p[@class='comment']</td>
<td>test comment on testcase_renamed_seq</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/th[text()='Name' and @class='data']/../../tr/td[1]</td>
<td>testcase_renamed_seq</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_renamed_seq']/../td[2]</td>
<td>10</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_renamed_seq']/../td[3]</td>
<td>20</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_renamed_seq']/../td[4]</td>
<td>3</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_renamed_seq']/../td[5]</td>
<td>104</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_renamed_seq']/../td[6]</td>
<td>5</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_renamed_seq']/../td[7]</td>
<td>6</td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[text()='testcase_renamed_seq']/../td[9]</td>
<td>No</td>
</tr>
<tr>
<td>clickAndWait</td>
<td>//div[@class='trail']/descendant::a[@title='Schema']/span[@class='label' and text()='test_schema']</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Sequences</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//tr/td[2]/a[text()='testcase_renamed_seq']/../../td[3]</td>
<td>ppa_tests_user</td>
</tr>
<tr>
<th colspan="3">4. drop sequence</th>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Sequences</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>//tr/td/a[text()='testcase_renamed_seq']/../../td/a[text()='Drop']</td>
<td></td>
</tr>
<tr>
<td>click</td>
<td>name=cascade</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>name=drop</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//p[@class='message']</td>
<td>Sequence dropped.</td>
</tr>
<tr>
<th colspan="3">Logout</th>
</tr>
<tr>
<td>clickAndWait</td>
<td>//div[@class='trail']/descendant::tr/td[1]/a/span[@class='label' and text()='phpPgAdmin']</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>link=Servers</td>
<td></td>
</tr>
<tr>
<td>clickAndWait</td>
<td>//tr/td/a[text()='PostgreSQL']/../../td/a[text()='Logout']</td>
<td></td>
</tr>
<tr>
<td>assertText</td>
<td>//p[@class='message']</td>
<td>Logged out of PostgreSQL</td>
</tr>
